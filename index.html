<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Job Diggers</title>
    <link rel="stylesheet" href="assets/bot.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
        d3.csv("la_bonne_boite.csv", function(data1) {
            // Traiter les données du premier fichier et créer des graphiques
        });
        
        d3.csv("pole_emploi_data.csv", function(data2) {
            // Traiter les données du deuxième fichier et créer des graphiques
        });

        d3.csv("rome_competence.csv", function(data3) {
            // Traiter les données du deuxième fichier et créer des graphiques
        });
    </script>
    <script>
        // Assurez-vous que cette fonction est bien définie dans la balise <head> ou juste avant la fermeture de la balise <body>
        function showSection(sectionId) {
            // Hide all sections
            var sections = document.querySelectorAll('section');
            sections.forEach(function(section) {
                section.style.display = 'none';
            });
    
            // Show the selected section
            var selectedSection = document.getElementById(sectionId);
            if (selectedSection) {
                selectedSection.style.display = 'block';
            }
        }
    </script>
    
    <style>
        .member-row {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .team-member {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }

        .team-member img {
            margin-right: 10px;
        }

        .member-info {
            text-align: left;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
            background-color: #e6f2e4;
        }

        header {
            min-height: 224px;
            background-image: url('matrix_background3.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #3c6e47;
            padding: 10px;
        }

        .nav-site-links a, .nav-social-links a {
            color: #fff;
            text-decoration: none;
            padding: 10px;
            margin-right: 5px;
        }

        .nav-social-links {
            display: flex;
        }

        .nav-social-links a {
            margin-left: 10px;
        }

        section {
            padding: 20px;
        }

        section {
            display: none;
        }

        /* Show the default section */
        section#accueil {
            display: block;
        }

        footer {
            background-color: #2a5233;
            color: #fff;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .social-icon {
            width: 25px;
            height: 25px;
            fill: currentColor;
            vertical-align: middle;
        }

        .linkedin-icon {
            fill: #478AF5;
        }

        .indeed-icon {
            fill: #2314EB;
        }

        .jungle-icon {
            fill: #f3da35;
        }

        .side-menu {
            position: fixed;
            left: 0;
            top: 70%;
            transform: translateY(-70%);
            background-color: #3c6e47;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            width: 200px;
            height: auto;
            overflow-y: auto;
        }

        .menu-item {
            margin-bottom: 20px;
        }

        .menu-item label {
            display: block;
            color: white;
            margin-bottom: 5px;
        }

        .menu-item select, .menu-item input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: none;
            outline: none;
        }

        .menu-item input {
            box-sizing: border-box;
        }
    </style>
</head>

<body>
<header>
    <img src="assets/Data_job_diggers.png" alt="Job Diggers Logo" height="250" width="250"/>
</header>

<nav>
    <div class="nav-site-links">
        <a href="#accueil" onclick="showSection('accueil'); return false;">Accueil</a>
        <a href="#analyse-de-donnée" onclick="showSection('analyse-de-donnée'); return false;">Analyse de données</a>
        <a href="#dig-ton-data-job" onclick="showSection('dig-ton-data-job'); return false;">Dig ton data job</a>
        <a href="#a-propos" onclick="showSection('la_bonne_boite'); return false;">La bonne boite</a>
        <a href="#a-propos" onclick="showSection('a-propos'); return false;">À Propos de nous</a>
    </div>
    <div class="nav-social-links">
        <a href="https://www.linkedin.com" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" class="social-icon linkedin-icon" viewBox="0 0 16 16"> 
                    <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/> 
                </svg>
            </a>
            <a href="https://www.welcometothejungle.com" target="_blank">
                <svg class="social-icon jungle-icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <title>Welcome to the Jungle</title>
                    <path d="M22.62 3.783c-1.115-1.811-4.355-2.604-6.713-.265-.132.135-.306.548.218 1.104 1.097 1.149 6.819 7.046 4.702 12.196-1.028 2.504-3.953 2.073-5.052-2.076a23.184 23.184 0 0 1-.473-9.367s.105-.394-.065-.52c-.117-.087-.305-.05-.547.33-.06.096-.048.076-.106.178l-.003.002c-1.622 2.688-3.272 5.874-4.049 7.07.38-1.803-.101-4.283-.85-6.359l-.142-.375c-.692-1.776-1.524-2.974-1.776-3.245-.03-.033-.105-.094-.353-.094H.398c-.49 0-.448.412-.293.561 1.862 2.178 7.289 10.343 4.773 18.355-.194.619.11.944.612.305 2.206-2.81 4.942-7.598 6.925-11.187-.437 1.245-.822 2.63-1.028 4.083-.435 3.064.487 5.37 1.162 6.58.345.619.803.998 1.988.824 6.045-.885 8.06-6.117 8.805-8.77 1.357-4.839.363-7.568-.722-9.33"></path>
                </svg>
            </a>
            <a href="https://www.indeed.com" target="_blank">
                <svg role="img" class="social-icon indeed-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <title>Indeed</title>
                    <path d="M11.566 21.5633v-8.762c.2553.0231.5009.0346.758.0346 1.2225 0 2.3739-.3206 3.3506-.8928v9.6182c0 .8219-.1957 1.4287-.5757 1.8338-.378.4033-.8808.6049-1.491.6049-.6007 0-1.0766-.2016-1.468-.6183-.3781-.4032-.5739-1.01-.5739-1.8184zM11.589.5659c2.5447-.8929 5.4424-.8449 7.6186.987.405.3687.8673.8334 1.0515 1.3806.2207.6913-.7695-.073-.9057-.167-.71-.4532-1.4182-.8334-2.2127-1.0946C12.8614.3873 8.8122 2.709 6.2945 6.315c-1.0516 1.5939-1.7367 3.2721-2.299 5.1174-.0614.2017-.1094.4647-.2207.6413-.1113.2036-.048-.5453-.048-.5702.0845-.7623.2438-1.4997.4414-2.237C5.3292 5.3375 7.897 2.0655 11.5891.5658zm4.9281 7.0587c0 1.6686-1.353 3.0224-3.0205 3.0224-1.6677 0-3.0186-1.3538-3.0186-3.0224 0-1.6687 1.351-3.0224 3.0186-3.0224 1.6676 0 3.0205 1.3518 3.0205 3.0224Z"></path>
                </svg>
            </a>
        </div>
        </nav>

    <section id="accueil">
    <h2>Accueil</h2>
    <p> <strong>La Data Job Diggers team est composée d'Elvina, Vincent, Fred et Julien. Nous vous présentons notre projet 3.<br>
        <br>
        Le sujet choisi est data jobs. Nous vous proposons donc un outil pour vous aider à trouver un job dans la data.<br>
        <br>
        Que vous soyez data analyst, data scientist ou data engineer,vous trouverez grâce à notre outil, les annonces correspondant à vos besoins.<br>
        <br>
        Nous avons également fais une étude exploratoire des bases de données que nous avons obtenues avec les différentes API de pôle emploi/France travail.</strong>
    </p>
    <img src="assets/accueil_pics7.png" alt="Description de l'image" style="width:100%;">
    </section>

    <section id="analyse-de-donnée">
        <h2>Analyse de données</h2>
        
        <div id="graphContainer">
            <div id="Chart" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                <div class="graph">
                    <iframe src="fig_city.html" width="600" height="400" frameborder="0"></iframe>
                </div>
                <div class="description">
                    <p>
                        <strong>Nombre d'Offres d'Emploi par Département</strong><br>
                        Ce graphique présente la répartition des offres d'emploi dans différents départements.
                        Les départements sont affichés sur l'axe des x, et le nombre d'offres d'emploi sur l'axe des y.
                        Il révèle quels départements ont le plus grand nombre d'offres d'emploi.
                    </p>
                </div>
                <div class="graph">
                    <iframe src="fig_dept.html" width="600" height="400" frameborder="0"></iframe>
                </div>
                <div class="description">
                    <p>
                        <strong>Nombre d'Offres d'Emploi par Ville</strong><br>
                        Ce graphique illustre la distribution des offres d'emploi dans différentes villes.
                        Les villes sont affichées sur l'axe des x, et le nombre d'offres d'emploi sur l'axe des y.
                    </p>
                </div>
                <div class="graph">
                    <iframe src="fig_job_type.html" width="600" height="400" frameborder="0"></iframe>
                </div>
                <div class="description">
                    <p>
                        <strong>Top 3 Types d'Emplois par Nombre d'Offres d'Emploi</strong><br>
                        Ce graphique se concentre sur les trois principaux types d'emplois en fonction du nombre d'offres d'emploi.
                        Les types d'emploi, à savoir "data analyste," "data scientist," et "data engineer," sont représentés sur l'axe des x.
                        L'axe des y affiche le nombre d'offres d'emploi pour chaque type d'emploi.
                    </p>
                </div>
                <div class="graph">
                    <iframe src="fig_date.html" width="600" height="400" frameborder="0"></iframe>
                </div>
                <div class="description">
                    <p>
                        <strong>Fréquence des Offres d'Emploi par Date de Création</strong><br>
                        Ce graphique présente la fréquence des offres d'emploi en fonction de leur date de création.
                        L'axe des x représente les dates, et l'axe des y affiche le nombre d'offres d'emploi créées à chaque date.
                    </p>
                </div>
            </div>
        </div>
    </section>
    <section id="dig-ton-data-job" style="display: none;">
        <h2>Dig Ton Data Job</h2>
    
        <!-- Charger le fichier CSV en utilisant PapaParse -->
        <script>
            Papa.parse('filtered_data.csv', {
                header: true, // Indiquez si la première ligne du CSV contient les en-têtes des colonnes
                dynamicTyping: true, // Convertit automatiquement les valeurs en nombres si possible
                download: true, // Téléchargez le fichier CSV (assurez-vous qu'il est accessible depuis votre site web)
                complete: function (results) {
                    var data = results.data; // Les données CSV chargées seront stockées dans cette variable
                        
                    // Vous pouvez maintenant traiter les données ici
                    console.log(data); // Affiche les données dans la console
                }
            });
        </script>
    
    <script src="https://cdn.botpress.cloud/webchat/v1/inject.js"></script>
<script>
  window.botpressWebChat.init({
      "composerPlaceholder": "Trouvons des annonces ensemble",
      "botConversationDescription": "Job digger vous aide à trouver votre futur job",
      "botId": "96325f0e-d947-46a4-8d0e-bb2f666c82f1",
      "hostUrl": "https://cdn.botpress.cloud/webchat/v1",
      "messagingUrl": "https://messaging.botpress.cloud",
      "clientId": "96325f0e-d947-46a4-8d0e-bb2f666c82f1",
      "webhookId": "94144dfe-adbf-4966-a598-c762cd314a4b",
      "lazySocket": true,
      "themeName": "prism",
      "botName": "Job digger",
      "stylesheet": "https://csvprojet3.s3.eu-north-1.amazonaws.com/bot.css",
      "frontendVersion": "v1",
      "useSessionStorage": true,
      "enableConversationDeletion": true,
      "showPoweredBy": true,
      "theme": "prism",
      "themeColor": "#2563eb"
  });
</script>
    
        <div class="side-menu">
            <div class="menu-item">
                <label for="metier">Métier data recherché:</label>
                <select id="metier">
                    <option value="data-analyst">Data Analyst</option>
                    <option value="data-scientist">Data Scientist</option>
                    <option value="data-engineer">Data Engineer</option>
                </select>
            </div>
            <div class="menu-item">
                <label for="contrat">Type de contrat:</label>
                <select id="contrat">
                    <option value="full-time">CDI</option>
                    <option value="part-time">CDD</option>
                    <option value="internship">MIS</option>
                </select>
            </div>
            <div class="menu-item">
                <label for="ville">Ville:</label>
                <input type="text" id="ville" placeholder="Entrez votre ville">
            </div>
        </div>
    
        <div id="llm-placeholder">
            Affichage des annonces ici...
        </div>
    </section>
    
    <section id="la_bonne_boite" style="display: none;">
    <h2>La bonne boite</h2>
    <p>La bonne boite est une API d'un partenaire de pole emploi/France travail qui permet d'accéder à un listing des entreprises ayant un fort potentiel d'embauche.</p>
    <p>La base de donnée 'La bonne boite' est mise à jour une fois par mois</p>

    <label for="filter-Code_postal">Code Postal :</label>
    <select id="filter-Code_postal" onchange="filterData()">
    <option value="tous">Tous</option>
    </select>

    <!-- <label for="filter-estimated-region">Région Estimée :</label>
    <select id="filter-estimated-region">
    <option value="tous">Toutes</option>
    </select> -->

<button onclick="filterData()">Filtrer</button>
    <div id="csv-data-display"></div> <!-- Container for displaying CSV data -->
    <!-- Tableau pour afficher les données CSV -->
    <p></p>
    <p></p>
<table>
    <thead>
        <tr>
            <th>ROME_Code</th>
            <th>Entreprise</th>
            <th>Adresse</th>
            <th>Potentiel_d_embauche</th>
            <th>Code_postal</th>
            <th>dpt</th>
        </tr>
    </thead>
    <tbody id="data-table-body">
        <!-- Les données filtrées seront insérées ici -->
    </tbody>
</table>
    </section>
        
    <section id="a-propos">
    <h2>À Propos de Nous</h2>
    <p>L'équipe Job digger est composée de 4 membres de la cession remote data 09/23 de la Wild Code School.</p>
    <p>Nous avons choisi de travailler sur le projet data jobs, car nous allons nous même devoir trouver un travail dans la data très bientôt.</p>

        <div class="member-row">
            <!-- Première ligne -->
            <div class="team-member">
                <a href="https://www.linkedin.com/search/results/all/?heroEntityKey=urn%3Ali%3Afsd_profile%3AACoAABsQQ_YBYQQfIieca2HmFq7Q1eXFnONRBm8&keywords=Elvina%20Joyeux&origin=ENTITY_SEARCH_HOME_HISTORY&sid=(Us" target="_blank">
                    <img src="assets/Elvina.png" alt="image d'Elvina" height="100" width="100"/>
                </a>
                <div class="member-info">
                    <p>Elvina Joyeux</p>
                    <p>Après  un parcours de 2 décennies dans divers <br>
                    domaines, allant de conseillère ventes de voyage<br>
                    à facility manager, en passant par community manager,<br>
                    j'ouvre aujourd'hui le Big Gate de la Big Data.</p>
                </div>
            </div>
            <div class="team-member">
                <a href="https://www.linkedin.com/search/results/all/?heroEntityKey=urn%3Ali%3Afsd_profile%3AACoAADaTXjgBdVJLxMtx-3TuQGTkluYGSYzve50&keywords=vincent%20corvaisier&origin=RICH_QUERY_SEARCH_HOME_HISTORY&sid=OC*" target="_blank">
                    <img src="assets/vincent.jpg" alt="image de Vincent" height="100" width="100"/>
                </a>
                <div class="member-info">
                    <p>Vincent Corvaisier</p>
                    <p>Etudiant dynamique et avide de savoir,<br>
                    j'ai décidé de me former à la data analyse<br>
                    puis en data enginnering, car c'est un domaine<br>
                    interessant et porteur pour l'avenir</p>
                </div>
            </div>
        </div>

        <div class="member-row">
            <!-- Deuxième ligne -->
            <div class="team-member">
                <a href="https://www.linkedin.com/search/results/all/?heroEntityKey=urn%3Ali%3Afsd_profile%3AACoAAEbiKfoBnW0Cy2dkauLkoS0ESLV6jQnPs_4&keywords=Fr%C3%A9d%C3%A9ric%20Laleuf&origin=ENTITY_SEARCH_HOME_HISTORY&sid=YGp" target="_blank">
                    <img src="assets/fred.jpg" alt="image de Frédéric" height="100" width="100"/>
                </a>
                <div class="member-info">
                    <p>Frédéric Laleuf</p>
                    <p>j'ai gravi les marche du monde du son pendant vingt ans,<br>
                    je me reconvertie maintenant dans la data puis la<br>
                    data engineering pour m'ouvrir de nouvelle possibilité.</p>
                </div>
            </div>
            <div class="team-member">
                <a href="linkedin.com/in/julien-ribezzo-84668b63" target="_blank">
                    <img src="assets/Julien.JPG" alt="image de Julien" height="100" width="100"/>
                </a>
                <div class="member-info">
                    <p>Julien Ribezzo</p>
                    <p>Après une vingtaine d'année dans l'industrie du fitness,<br>
                    à des postes, allant de livreur/installateur à responsable technique.<br>
                    j'ai décider de réorienter ma carrière dans le domaine de la data<br>
                    avec lequel j'ai des affinité depuis longtemps.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
    <p>&copy; 2023 Job Diggers. Tous droits réservés.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

</style>

    <!-- Scripts and Function Definition -->
    
    // // Define showSection at the top of the script
    // function showSection(sectionId) {
    // console.log("showSection called with: " + sectionId);
    //     // Hide all sections
    //     var sections = document.querySelectorAll('section');
    //     sections.forEach(function(section) {
    //         section.style.display = 'none';
    //     });

    //     // Show the selected section
    //     var selectedSection = document.getElementById(sectionId);
    //     if (selectedSection) {
    //     selectedSection.style.display = 'block';
    //     }}

    // document.addEventListener('DOMContentLoaded', function() {
    //     // Set the default section on page load
    //     showSection('accueil');

    <script>
    // Charger le fichier CSV en utilisant PapaParse
    Papa.parse('la_bonne_boite.csv', {
    header: true,
    dynamicTyping: true,
    download: true,
    complete: function (results) {
        var data = results.data;

        // Chart 1: Nombre d'Entreprises par Région Estimée
        const regionCounts = {};
        data.forEach(item => {
            regionCounts[item.Estimated_Region] = (regionCounts[item.Estimated_Region] || 0) + 1;
        });

        const barChartData = {
            labels: Object.keys(regionCounts),
            datasets: [{
                label: 'Nombre d\'Entreprises',
                data: Object.values(regionCounts),
                backgroundColor: 'blue',
            }]
        };

        const ctxBar = document.getElementById('barChart').getContext('2d');
        const barChart = new Chart(ctxBar, {
            type: 'bar',
            data: barChartData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Nombre d\'Entreprises par Région Estimée'
                    }
                }
            }
        });

        // Chart 2: Moyenne du Potentiel d'Embauche par Région Estimée
        const regionSums = {};
        const regionCountsForAverage = {};
        data.forEach(item => {
            if (!regionSums[item.Estimated_Region]) {
                regionSums[item.Estimated_Region] = 0;
                regionCountsForAverage[item.Estimated_Region] = 0;
            }
            regionSums[item.Estimated_Region] += item.Potentiel_d_embauche;
            regionCountsForAverage[item.Estimated_Region]++;
        });

        const averages = Object.keys(regionSums).map(key => regionSums[key] / regionCountsForAverage[key]);

        const averageChartData = {
            labels: Object.keys(regionSums),
            datasets: [{
                label: 'Moyenne du Potentiel d\'Embauche',
                data: averages,
                backgroundColor: 'green',
            }]
        };

        const ctxAverage = document.getElementById('averageChart').getContext('2d');
        const averageChart = new Chart(ctxAverage, {
            type: 'bar',
            data: averageChartData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Moyenne du Potentiel d\'Embauche par Région Estimée'
                    }
                }
            }
        });

        // Chart 3: Distribution des Potentiels d'Embauche
        function createHistogramData(data, binSize) {
            const maxVal = Math.max(...data);
            const numBins = Math.ceil(maxVal / binSize);
            const bins = new Array(numBins).fill(0);

            data.forEach(val => {
                bins[Math.floor(val / binSize)]++;
            });

            return bins.map((count, index) => ({
            bin: `${index * binSize}-${(index + 1) * binSize}`,  // Corrected this line
            count
            }));
            }
        const histogramData = createHistogramData(data.map(item => item.Potentiel_d_embauche), 5); // Adjust bin size as needed

    const histogramChartData = {
        labels: histogramData.map(item => item.bin),
        datasets: [{
            label: 'Distribution des Potentiels d\'Embauche',
            data: histogramData.map(item => item.count),
            backgroundColor: 'red',
        }]
    };

    const ctxHistogram = document.getElementById('histogramChart').getContext('2d');
    const histogramChart = new Chart(ctxHistogram, {
        type: 'bar',
        data: histogramChartData,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Distribution des Potentiels d\'Embauche'
                }
            }
        }
    });


    // Show the "Analyse de données" section
    document.getElementById('analyse-de-donnée').style.display = 'block';
    // Intégration des scripts Botpress


        
</script>

<script>
    axios.get('filtered_data.csv')
        .then(function (response) {
            // Traitez les données CSV ici (par exemple, avec PapaParse)
            var data = Papa.parse(response.data, {
                header: true, // Indiquez si la première ligne du CSV contient les en-têtes des colonnes
                dynamicTyping: true, // Convertit automatiquement les valeurs en nombres si possible
            });

            // Utilisez les données comme vous le souhaitez
            console.log(data);
        })
        .catch(function (error) {
            console.log(error);
        });
</script>

// filtrage et crétion des menus de la bonne boite
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    let originalData = []; // This will store the fetched data

    // Use PapaParse to load and parse the CSV file
    Papa.parse('la_bonne_boite.csv', {
        download: true,
        header: true,
        dynamicTyping: true,
        complete: function(results) {
            console.log(results.data); // Pour déboguer et voir les données chargées
            originalData = results.data;
            fillDropdowns(originalData);
            filterData(); // Initially filter and display all data
        }
    });

    // Populate dropdown menu with unique postal codes
    function fillDropdowns(data) {
        let uniqueCodesPostal = new Set(data.map(item => item.Code_postal)); // Assurez-vous que 'Code_postal' correspond exactement au nom de la colonne dans le CSV
        console.log(uniqueCodesPostal); // Pour déboguer et voir les codes postaux uniques
        let Code_postalSelect = document.getElementById('filter-Code_postal');
        
        uniqueCodesPostal.forEach(code => {
            let option = document.createElement("option");
            option.value = code;
            option.text = code;
            Code_postalSelect.appendChild(option);
        });
    }

    // Filter data based on selected postal code and display
    function filterData() {
        const selectedCode_postal = document.getElementById('filter-Code_postal').value;
        const filteredData = originalData.filter(item => item.Code_postal === selectedCode_postal || selectedCode_postal === 'tous');
        displayData(filteredData);
    }

    // Display filtered data in table
    function displayData(data) {
        const tableBody = document.getElementById('data-table-body');
        tableBody.innerHTML = ''; // Clear previous data
        data.forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${row.ROME_Code}</td><td>${row.Nom}</td><td>${row.Adresse}</td><td>${row.Potentiel_d_embauche}</td><td>${row.Postal_Code}</td><td>${row.dpt}</td>`; // Assurez-vous que les noms des propriétés correspondent à ceux du CSV
            tableBody.appendChild(tr);
        });
    }
});
</script>


</body>
</html>
